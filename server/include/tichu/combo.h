#ifndef SRC_COMBO_H
#define SRC_COMBO_H

/* -------------------------------------------------------------------------- *
 * Types                                                                      *
 * -------------------------------------------------------------------------- */

#define COMBO_ABANDON        0
#define COMBO_SINGLE_CARD    1
#define COMBO_PAIR           2
#define COMBO_TRIO           3
#define COMBO_FOLLOWING_PAIR 4
#define COMBO_FULLHOUSE      5
#define COMBO_STAIR          6
#define COMBO_BOMB           7

#define COMBO_HUND          10

/* -------------------------------------------------------------------------- *
 * Types                                                                      *
 * -------------------------------------------------------------------------- */
struct combo {
  int type;
  int value;
};


/* -------------------------------------------------------------------------- *
 * Global variables                                                           *
 * -------------------------------------------------------------------------- */
extern int           combo_log;

extern struct sheap  combo_heap;

/* -------------------------------------------------------------------------- *
 * Initialize the combo  module                                               *
 * -------------------------------------------------------------------------- */
extern void          combo_init             (void);

/* -------------------------------------------------------------------------- *
 * Shut down the combo module                                              *
 * -------------------------------------------------------------------------- */
extern void          combo_shutdown         (void);

/* -------------------------------------------------------------------------- *
 * Create and Free combo structs                                              *
 * -------------------------------------------------------------------------- */
extern struct combo *combo_new              (void);
extern void          combo_delete           (struct combo *combo);

/* -------------------------------------------------------------------------- *
 * -------------------------------------------------------------------------- */
extern struct combo *combo_check            (struct player *player,
                                             struct list *cards);

/* -------------------------------------------------------------------------- *
 * -------------------------------------------------------------------------- */
extern struct combo *combo_get_type         (struct list *list);

/* -------------------------------------------------------------------------- *
 * -------------------------------------------------------------------------- */
extern void          combo_sort_list        (struct list *list);

/* -------------------------------------------------------------------------- *
 * -------------------------------------------------------------------------- */
extern int           combo_is_higher        (struct list *last_turn, 
                                             struct list *list, 
                                             int combo);
  
/* -------------------------------------------------------------------------- *
 * -------------------------------------------------------------------------- */
extern int           combo_is_stair         (struct list *list);

/* -------------------------------------------------------------------------- *
 * -------------------------------------------------------------------------- */
extern int           combo_is_following_pair(struct list *list);
  
/* -------------------------------------------------------------------------- *
 * -------------------------------------------------------------------------- */
extern int           combo_is_same_type     (struct list *list);

/* -------------------------------------------------------------------------- *
 * -------------------------------------------------------------------------- */
extern int           get_value_x            (struct list *list, int x);
  


#endif /* SRC_COMBO_H */
